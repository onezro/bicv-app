import{M as t,O as e,P as o,X as s,S as i,o as a,d as n,D as r,E as l,i as u,N as d,a6 as c,aH as p,w as m,G as h,H as y,v as f,x as v,Q as b,aI as g,e as _,J as k}from"./index-BGMMYpLj.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as w}from"./u-icon.B26jy-l1.js";/* empty css                                                                      */const C=S({name:"u-safe-bottom",mixins:[e,o,t({props:{}})],data:()=>({safeAreaBottomHeight:0,isNvue:!1}),computed:{style(){return s({},i(this.customStyle))}},mounted(){}},[["render",function(t,e,o,s,i,d){const c=u;return a(),n(c,{class:r(["u-safe-bottom",[!i.isNvue&&"u-safe-area-inset-bottom"]]),style:l([d.style])},null,8,["style","class"])}],["__scopeId","data-v-15f70745"]]),$=t({props:{show:{type:Boolean,default:()=>d.transition.show},mode:{type:String,default:()=>d.transition.mode},duration:{type:[String,Number],default:()=>d.transition.duration},timingFunction:{type:String,default:()=>d.transition.timingFunction}}}),I=t=>({enter:`u-${t}-enter u-${t}-enter-active`,"enter-to":`u-${t}-enter-to u-${t}-enter-active`,leave:`u-${t}-leave u-${t}-leave-active`,"leave-to":`u-${t}-leave-to u-${t}-leave-active`});const x=S({name:"u-transition",data:()=>({inited:!1,viewStyle:{},status:"",transitionEnded:!1,display:!1,classes:""}),emits:["click","beforeEnter","enter","afterEnter","beforeLeave","leave","afterLeave"],computed:{mergeStyle(){const{viewStyle:t,customStyle:e}=this;return{transitionDuration:`${this.duration}ms`,transitionTimingFunction:this.timingFunction,...i(e),...t}}},mixins:[e,o,{methods:{clickHandler(){this.$emit("click")},async vueEnter(){const t=I(this.mode);this.status="enter",this.$emit("beforeEnter"),this.inited=!0,this.display=!0,this.classes=t.enter,await c(),await p(20),this.$emit("enter"),this.transitionEnded=!1,this.$emit("afterEnter"),this.classes=t["enter-to"]},async vueLeave(){if(!this.display)return;const t=I(this.mode);this.status="leave",this.$emit("beforeLeave"),this.classes=t.leave,await c(),this.transitionEnded=!1,this.$emit("leave"),setTimeout(this.onTransitionEnd,this.duration),this.classes=t["leave-to"]},onTransitionEnd(){this.transitionEnded||(this.transitionEnded=!0,this.$emit("leave"===this.status?"afterLeave":"afterEnter"),!this.show&&this.display&&(this.display=!1,this.inited=!1))}}},$],watch:{show:{handler(t){t?this.vueEnter():this.vueLeave()},immediate:!0}}},[["render",function(t,e,o,s,i,d){const c=u;return i.inited?(a(),n(c,{key:0,class:r(["u-transition",i.classes]),ref:"u-transition",onClick:t.clickHandler,style:l([d.mergeStyle]),onTouchmove:t.noop},{default:m((()=>[h(t.$slots,"default",{},void 0,!0)])),_:3},8,["onClick","class","style","onTouchmove"])):y("",!0)}],["__scopeId","data-v-9635bf08"]]);const E=S({name:"u-overlay",mixins:[e,o,t({props:{show:{type:Boolean,default:()=>d.overlay.show},zIndex:{type:[String,Number],default:()=>d.overlay.zIndex},duration:{type:[String,Number],default:()=>d.overlay.duration},opacity:{type:[String,Number],default:()=>d.overlay.opacity}}})],computed:{overlayStyle(){const t={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":`rgba(0, 0, 0, ${this.opacity})`};return s(t,i(this.customStyle))}},emits:["click"],methods:{clickHandler(){this.$emit("click")}}},[["render",function(t,e,o,s,i,r){const l=f(v("u-transition"),x);return a(),n(l,{show:t.show,"custom-class":"u-overlay",duration:t.duration,"custom-style":r.overlayStyle,onClick:r.clickHandler},{default:m((()=>[h(t.$slots,"default",{},void 0,!0)])),_:3},8,["show","duration","custom-style","onClick"])}],["__scopeId","data-v-ff00b8e0"]]);const B=S({name:"u-status-bar",mixins:[e,o,t({props:{bgColor:{type:String,default:()=>d.statusBar.bgColor}}})],data:()=>({}),computed:{style(){const t={};return t.height=b(g().statusBarHeight,"px"),t.backgroundColor=this.bgColor,s(t,i(this.customStyle))}}},[["render",function(t,e,o,s,i,r){const d=u;return a(),n(d,{style:l([r.style]),class:"u-status-bar"},{default:m((()=>[h(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}],["__scopeId","data-v-5a963ee7"]]);const z=S({name:"u-popup",mixins:[e,o,t({props:{show:{type:Boolean,default:()=>d.popup.show},overlay:{type:Boolean,default:()=>d.popup.overlay},mode:{type:String,default:()=>d.popup.mode},duration:{type:[String,Number],default:()=>d.popup.duration},closeable:{type:Boolean,default:()=>d.popup.closeable},overlayStyle:{type:[Object,String],default:()=>d.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:()=>d.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:()=>d.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:()=>d.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:()=>d.popup.safeAreaInsetTop},closeIconPos:{type:String,default:()=>d.popup.closeIconPos},round:{type:[Boolean,String,Number],default:()=>d.popup.round},zoom:{type:Boolean,default:()=>d.popup.zoom},bgColor:{type:String,default:()=>d.popup.bgColor},overlayOpacity:{type:[Number,String],default:()=>d.popup.overlayOpacity}}})],data(){return{overlayDuration:this.duration+50}},watch:{show(t,e){}},computed:{transitionStyle(){const t={zIndex:this.zIndex,position:"fixed",display:"flex"};return t[this.mode]=0,"left"===this.mode||"right"===this.mode?s(t,{bottom:0,top:0}):"top"===this.mode||"bottom"===this.mode?s(t,{left:0,right:0}):"center"===this.mode?s(t,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0}):void 0},contentStyle(){const t={};if(g(),"center"!==this.mode&&(t.flex=1),this.bgColor&&(t.backgroundColor=this.bgColor),this.round){const e=b(this.round);"top"===this.mode?(t.borderBottomLeftRadius=e,t.borderBottomRightRadius=e):"bottom"===this.mode?(t.borderTopLeftRadius=e,t.borderTopRightRadius=e):"center"===this.mode&&(t.borderRadius=e)}return s(t,i(this.customStyle))},position(){return"center"===this.mode?this.zoom?"fade-zoom":"fade":"left"===this.mode?"slide-left":"right"===this.mode?"slide-right":"bottom"===this.mode?"slide-up":"top"===this.mode?"slide-down":void 0}},emits:["open","close","click","update:show"],methods:{overlayClick(){this.closeOnClickOverlay&&(this.$emit("update:show",!1),this.$emit("close"))},close(t){this.$emit("update:show",!1),this.$emit("close")},afterEnter(){this.$emit("open")},clickHandler(){"center"===this.mode&&this.overlayClick(),this.$emit("click")}}},[["render",function(t,e,o,s,i,d){const c=f(v("u-overlay"),E),p=f(v("u-status-bar"),B),b=f(v("u-icon"),w),g=u,S=f(v("u-safe-bottom"),C),$=f(v("u-transition"),x);return a(),n(g,{class:r(["u-popup",[t.customClass]])},{default:m((()=>[t.overlay?(a(),n(c,{key:0,show:t.show,onClick:d.overlayClick,zIndex:t.zIndex,duration:i.overlayDuration,customStyle:t.overlayStyle,opacity:t.overlayOpacity},null,8,["show","onClick","zIndex","duration","customStyle","opacity"])):y("",!0),_($,{show:t.show,customStyle:d.transitionStyle,mode:d.position,duration:t.duration,onAfterEnter:d.afterEnter,onClick:d.clickHandler},{default:m((()=>[_(g,{class:"u-popup__content",style:l([d.contentStyle]),onClick:k(t.noop,["stop"])},{default:m((()=>[t.safeAreaInsetTop?(a(),n(p,{key:0})):y("",!0),h(t.$slots,"default",{},void 0,!0),t.closeable?(a(),n(g,{key:1,onClick:k(d.close,["stop"]),class:r(["u-popup__content__close",["u-popup__content__close--"+t.closeIconPos]]),"hover-class":"u-popup__content__close--hover","hover-stay-time":"150"},{default:m((()=>[_(b,{name:"close",color:"#909399",size:"18",bold:""})])),_:1},8,["onClick","class"])):y("",!0),t.safeAreaInsetBottom?(a(),n(S,{key:2})):y("",!0)])),_:3},8,["style","onClick"])])),_:3},8,["show","customStyle","mode","duration","onAfterEnter","onClick"])])),_:3},8,["class"])}],["__scopeId","data-v-f8f87a43"]]);export{z as _};
