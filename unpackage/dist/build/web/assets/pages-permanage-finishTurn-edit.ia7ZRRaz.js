import{n as e,r as a,ap as t,p as l,q as o,_ as s,v as u,x as d,d as r,w as n,i,o as c,e as p,E as m,y as f,z as _,F as b,H as x,aq as v,s as y,a9 as h,am as V,f as g,t as C,K as j}from"./index-BGMMYpLj.js";import{_ as k}from"./u-input.Coqpc1Jd.js";import{_ as w,a as S}from"./u-form.Q5Xs4RHm.js";import{_ as D}from"./uni-data-checkbox.BZqLlmt3.js";import{_ as q}from"./uni-icons.DYEN23k6.js";import{_ as z}from"./uni-section.CCDL9Cq2.js";import{_ as F,a as N}from"./u-row.CNEaJGtR.js";import{_ as U}from"./u-button.Dr9wKWVi.js";import{u as P}from"./user.CJRpAqDR.js";import{_ as W}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-icon.B26jy-l1.js";/* empty css                                                               */import"./u-line.CTRc1Fj8.js";import"./uni-cloud.es.BPDmVjNF.js";import"./uni-load-more.BR-FgQCx.js";import"./u-loading-icon.DEWftbaH.js";const A=W({__name:"edit",setup(W){const A=P(),{name:B}=e(A),T=a({workStationDec:"",workstationName:"",MfgOrder:"",ProductName:"",ProductDesc:"",Qty:"",type:0,Container:"",userAccount:B}),H=a(!0),K=a(0),R=a({boxCran:"ZZX20240001",capacity:"40",qty:"40"}),Z=a([{text:"拆箱",value:0},{text:"一键拆箱",value:1}]),E=a(),G=a([{sn:"SA240106060054",order:"20831182",productName:"241060600131",soflow:"2024-05-25",productDesc:"c测试测试"}]);a(!1);const I=a(!1),L=a(!0);t((()=>T.value.type),((e,a)=>{I.value=0!=e,e!==a&&(L.value=!0,M(),J())})),l((()=>{o().select(".sect").boundingClientRect((e=>{K.value=e.height-45-40+"px"})).exec()})),s((e=>{T.value.workStationDec=e.workStationDec,T.value.workstationName=e.workStation}));const M=()=>{H.value=!1,setTimeout((()=>{H.value=!0}),100)},O=()=>{v()},Q=()=>{""!=R.value.boxCran?h({onlyFromCamera:!0,scanType:["qrCode","barCode","datamatrix","pdf417"],success:e=>{X()}}):y({title:"请先扫描周转条码",icon:"error"})},X=()=>{""!=R.value.boxCran||y({title:"请先扫描周转条码",icon:"error"})},Y=()=>{},J=()=>{R.value.boxCran="",R.value.capacity="",R.value.qty="",G.value=[]};return(e,a)=>{const t=u(d("up-input"),k),l=u(d("up-form-item"),w),o=u(d("uni-data-checkbox"),D),s=u(d("uni-icons"),q),v=u(d("up-form"),S),y=i,h=u(d("uni-section"),z),P=u(d("up-col"),F),W=u(d("up-row"),N),A=j,B=V,M=u(d("up-button"),U);return c(),r(y,{class:"content"},{default:n((()=>[p(h,{title:"基本信息",type:"line"},{default:n((()=>[p(y,{class:"box"},{default:n((()=>[p(v,{ref:"baseForm",model:T.value,borderBottom:!0,labelWidth:"65"},{default:n((()=>[p(l,{label:"工位",class:"test"},{default:n((()=>[p(t,{style:{height:"30px"},fontSize:"13px",border:"surround",modelValue:T.value.workStationDec,"onUpdate:modelValue":a[0]||(a[0]=e=>T.value.workStationDec=e),disabled:""},null,8,["modelValue"])])),_:1}),p(l,{label:"类型",prop:"type"},{default:n((()=>[p(o,{modelValue:T.value.type,"onUpdate:modelValue":a[1]||(a[1]=e=>T.value.type=e),localdata:Z.value},null,8,["modelValue","localdata"])])),_:1}),p(l,{label:"扫描条码",class:"test"},{default:n((()=>[p(t,{style:{height:"30px"},adjustPosition:!0,fontSize:"13px",border:"surround",modelValue:T.value.Container,"onUpdate:modelValue":a[2]||(a[2]=e=>T.value.Container=e),onConfirm:X,focus:H.value,onFocus:O},{suffix:n((()=>[p(s,{type:"scan",color:"#bdbdbd",onClick:Q,size:"20"})])),_:1},8,["modelValue","focus"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1}),p(h,{title:"箱体信息",type:"line"},{default:n((()=>[p(y,{class:"box"},{default:n((()=>[p(v,{ref_key:"boxFormRef",ref:E,model:R.value,borderBottom:!0,labelWidth:"80"},{default:n((()=>[p(l,{label:"周转箱条码",class:"test",prop:"boxCran"},{default:n((()=>[p(t,{style:{height:"30px"},fontSize:"13px",border:"surround",modelValue:R.value.boxCran,"onUpdate:modelValue":a[3]||(a[3]=e=>R.value.boxCran=e),disabled:""},null,8,["modelValue"])])),_:1}),p(W,{gutter:"20"},{default:n((()=>[p(P,{span:"6"},{default:n((()=>[p(l,{label:"箱容量",class:"test",prop:"capacity"},{default:n((()=>[p(t,{style:{height:"30px"},fontSize:"13px",border:"surround",modelValue:R.value.capacity,"onUpdate:modelValue":a[4]||(a[4]=e=>R.value.capacity=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),p(P,{span:"6"},{default:n((()=>[p(l,{label:"已装箱数",class:"test"},{default:n((()=>[p(y,{style:{width:"90px"}},{default:n((()=>[p(t,{style:{height:"30px"},fontSize:"13px",border:"surround",modelValue:R.value.qty,"onUpdate:modelValue":a[5]||(a[5]=e=>R.value.qty=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])),_:1}),p(h,{title:"装箱明细",type:"line",class:"sect",style:{flex:"1"}},{default:n((()=>[p(B,{"scroll-y":"true",style:m({height:K.value})},{default:n((()=>[(c(!0),f(b,null,_(G.value,(e=>(c(),r(y,{class:"",style:{padding:"5px","border-bottom":"1px solid #e1e2e3"}},{default:n((()=>[p(v,{ref_for:!0,ref:"baseForm",model:e,borderBottom:!0,labelAlign:"rigth",labelWidth:"80"},{default:n((()=>[p(W,{gutter:""},{default:n((()=>[p(P,{span:"6"},{default:n((()=>[p(l,{label:"成品SN条码",class:"test1"},{default:n((()=>[p(A,{class:"header1-text"},{default:n((()=>[g(C(e.sn),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),p(P,{span:"6"},{default:n((()=>[p(l,{label:"工单",class:"test1"},{default:n((()=>[p(A,{class:"header1-text"},{default:n((()=>[g(C(e.order),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),p(W,{gutter:""},{default:n((()=>[p(P,{span:"6"},{default:n((()=>[p(l,{label:"产品编码",class:"test1"},{default:n((()=>[p(A,{class:"header1-text"},{default:n((()=>[g(C(e.productName),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),p(P,{span:"6"},{default:n((()=>[p(l,{label:"软硬件版本",class:"test1"},{default:n((()=>[p(A,{class:"header1-text"},{default:n((()=>[g(C(e.soflow),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),p(l,{label:"产品描述",class:"test1"},{default:n((()=>[p(A,{class:"header1-text"},{default:n((()=>[g(C(e.productDesc),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["model"])])),_:2},1024)))),256))])),_:1},8,["style"]),p(y,{class:"button-box"},{default:n((()=>[p(M,{class:"custom-style",text:"重置",onClick:J}),I.value?(c(),r(M,{key:0,class:"custom-style",type:"primary",disabled:L.value,text:"一键拆箱",onClick:Y},null,8,["disabled"])):x("",!0)])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-3e3782d7"]]);export{A as default};
