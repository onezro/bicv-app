import{r as e,p as o,q as a,v as l,x as t,d as s,w as i,i as u,o as n,e as r,E as c,y as m,z as p,F as d,aq as f,a9 as _,s as v,am as b}from"./index-BGMMYpLj.js";import{_ as y}from"./uni-icons.DYEN23k6.js";import{_ as j}from"./u-input.Coqpc1Jd.js";import{_ as x,a as h}from"./u-form.Q5Xs4RHm.js";import{_ as C}from"./uni-section.CCDL9Cq2.js";import{_ as g}from"./uni-list-item.SqYlFseI.js";import{_ as V}from"./uni-list.BH0W-wlO.js";import{T as F}from"./work.CbAcu18Q.js";import{b as q,a as T}from"./prompt.CRqnvq7m.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-icon.B26jy-l1.js";/* empty css                                                               */import"./u-line.CTRc1Fj8.js";import"./config.C9WjKJqE.js";const z=k({__name:"shelves",setup(k){const z=e({operationtype:"MoveIn",compid:"",location:"",orderid:""}),I=e([]),w=e(!0),R=e(0);o((()=>{a().select(".sect").boundingClientRect((e=>{R.value=e.height-40+"px"})).exec()}));const U=()=>{f()},W=()=>{_({onlyFromCamera:!0,scanType:["qrCode","barCode","datamatrix","pdf417"],success:e=>{z.value.compid=e.result,H()}})},E=()=>{_({onlyFromCamera:!0,scanType:["qrCode","barCode","datamatrix","pdf417"],success:e=>{z.value.location=e.result}})},H=()=>{F(z.value).then((e=>{q(),I.value.push({...z.value}),v({title:e.msg,icon:"none"}),z.value.location="",z.value.compid="",w.value=!1,setTimeout((()=>{w.value=!0}),100)})).catch((()=>{z.value.location="",z.value.compid="",T()}))};return(e,o)=>{const a=l(t("uni-icons"),y),f=l(t("up-input"),j),_=l(t("up-form-item"),x),v=l(t("up-form"),h),F=u,q=l(t("uni-section"),C),T=l(t("uni-list-item"),g),k=l(t("uni-list"),V),K=b;return n(),s(F,{class:"content"},{default:i((()=>[r(q,{title:"入库",type:"line"},{default:i((()=>[r(F,{class:"box"},{default:i((()=>[r(v,{labelPosition:"left",model:z.value,ref:"formRef",labelWidth:"70"},{default:i((()=>[r(_,{label:"储位",prop:"location"},{default:i((()=>[r(f,{placeholder:"储位",onFocus:U,focus:w.value,modelValue:z.value.location,"onUpdate:modelValue":o[0]||(o[0]=e=>z.value.location=e)},{suffix:i((()=>[r(a,{type:"scan",color:"#bdbdbd",onClick:E,size:"24"})])),_:1},8,["focus","modelValue"])])),_:1}),r(_,{label:"治具编码",prop:"compid"},{default:i((()=>[r(f,{placeholder:"治具编码",onFocus:U,modelValue:z.value.compid,"onUpdate:modelValue":o[1]||(o[1]=e=>z.value.compid=e),onConfirm:H},{suffix:i((()=>[r(a,{type:"scan",color:"#bdbdbd",onClick:W,size:"24"})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1}),r(q,{title:"清单",type:"line",class:"sect",style:{flex:"1"}},{default:i((()=>[r(K,{"scroll-y":"true",style:c({height:R.value})},{default:i((()=>[r(k,null,{default:i((()=>[r(k,{border:!0},{default:i((()=>[(n(!0),m(d,null,p(I.value,(e=>(n(),s(T,{title:"治具编码："+e.compid,note:"储位："+e.location},null,8,["title","note"])))),256))])),_:1})])),_:1})])),_:1},8,["style"])])),_:1})])),_:1})}}},[["__scopeId","data-v-426cea6b"]]);export{z as default};
