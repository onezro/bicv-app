import{r as e,L as a,v as l,x as t,d as o,w as n,i as u,o as s,e as i,A as r}from"./index-BGMMYpLj.js";import{_ as d}from"./uni-data-select.DrmDTM-h.js";import{_ as m,a as c}from"./u-form.Q5Xs4RHm.js";import{_ as f}from"./uni-section.CCDL9Cq2.js";import{f as p}from"./login.B4FiVUnw.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-cloud.es.BPDmVjNF.js";import"./uni-icons.DYEN23k6.js";import"./u-icon.B26jy-l1.js";/* empty css                                                               */import"./u-line.CTRc1Fj8.js";import"./config.C9WjKJqE.js";const v=_({__name:"index",setup(_){const v=e(""),g=e(""),h=e([]),j=e(""),x=e([]),D=e([]);a((()=>{I()}));const I=()=>{p().then((e=>{let a=e.content.filter((e=>null!==e.FID&&""!==e.FID));a=a.map((e=>({value:e.Name,text:e.Desc,...e}))),D.value=V(a),a=a.filter((e=>3!==e.Level)),h.value=a}))},V=e=>{const a=new Map;return e.forEach((e=>{a.set(e.ID,{...e,children:[]})})),e.forEach((e=>{if(e.FID!==e.ID){const l=a.get(e.FID);l&&l.children.push(a.get(e.ID))}})),Array.from(a.values())},F=e=>{let a=D.value.find((a=>e===a.value));x.value=a.children,g.value=a.text},b=e=>{const a=D.value.find((a=>e===a.value));r({url:`/pages/material/Feeding/edit?workStation=${a.value}&workStationDec=${a.text}&line=${v.value}`})};return(e,a)=>{const r=l(t("uni-data-select"),d),p=l(t("up-form-item"),m),_=l(t("up-form"),c),g=u,D=l(t("uni-section"),f);return s(),o(g,{class:"content"},{default:n((()=>[i(D,{title:"工位选择",type:"line"},{default:n((()=>[i(g,{class:"box"},{default:n((()=>[i(_,{labelAlign:"left",model:e.form,ref:"formRef",labelWidth:"50"},{default:n((()=>[i(p,{label:"产线",onChange:e.changeLine},{default:n((()=>[i(r,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),localdata:h.value,onChange:F},null,8,["modelValue","localdata"])])),_:1},8,["onChange"]),i(p,{label:"工位"},{default:n((()=>[i(r,{modelValue:j.value,"onUpdate:modelValue":a[1]||(a[1]=e=>j.value=e),localdata:x.value,onChange:b},null,8,["modelValue","localdata"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-399ffeda"]]);export{v as default};
